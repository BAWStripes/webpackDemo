{"version":3,"sources":["carousel.js"],"names":[],"mappings":"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","file":"carousel-compiled.js","sourcesContent":["module.exports = (function () {\r\n\r\n    let  $ = require('../jquery.min');\r\n\r\n    function Carousel($ct, width, height) {\r\n        this.$ct = $ct;\r\n        this.$width = width;\r\n        this.$height = height;\r\n        this.bind();\r\n        this.bindClick();\r\n    }\r\n\r\n    Carousel.prototype.bind = function () {\r\n        this.$ct.width(this.$width);\r\n        this.$ct.height(this.$height);\r\n        this.$prebtn = this.$ct.find('.btnPre');\r\n        this.$nextbtn = this.$ct.find('.btnNext');\r\n        this.$imgCt = this.$ct.find('.img-ct');\r\n        this.$imgs = this.$ct.find('.img-ct').children('.carousel-img');\r\n        this.$imgs.width(this.$width);\r\n        this.$imgs.height(this.$height);\r\n        this.imgCount = this.$imgs.length;\r\n        this.imgWidth = this.$imgs.width(this.width).width();\r\n        this.pageindex = 0;  //设置参数判断当前的画面在第几副图\r\n        this.$btns = this.$ct.find('.btnWrap').children('.btn');\r\n        this.pageAnimate = false //设置参数判断是否在动画中\r\n        this.$imgCt.append(this.$imgs.first().clone());\r\n        this.$imgCt.prepend(this.$imgs.last().clone());\r\n        console.log(this.imgWidth);\r\n        this.$imgCt.width(this.imgWidth * (this.imgCount + 2));\r\n        this.$imgCt.css({left: -this.imgWidth});\r\n        console.log(this.pageindex);\r\n    };\r\n\r\n\r\n    Carousel.prototype.play = function (len) {\r\n        if (this.pageAnimate) {\r\n            return;\r\n        }\r\n        var _this = this;\r\n        console.log(len, this.imgWidth, this.imgCount);\r\n        this.pageindex += len;\r\n        this.pageAnimate = true;//判断是否在动画中\r\n        this.$imgCt.animate({\r\n            left: '-=' + this.imgWidth * len\r\n        }, function () {\r\n            if (_this.pageindex === _this.imgCount) {\r\n\r\n                _this.pageindex = 0;\r\n                _this.$imgCt.css({left: -_this.imgWidth})\r\n            }\r\n            if (_this.pageindex === -1) {\r\n                _this.pageindex = _this.imgCount - 1;\r\n                console.log(_this.pageindex);\r\n                _this.$imgCt.css({left: -_this.imgWidth * _this.imgCount})\r\n            }\r\n\r\n            _this.setButton()\r\n        });\r\n    };\r\n\r\n    Carousel.prototype.setButton = function () {\r\n        this.$btns.removeClass('active').eq(this.pageindex).addClass('active');\r\n        this.pageAnimate = false;\r\n    };\r\n\r\n    Carousel.prototype.bindClick = function () {\r\n        var _this = this;\r\n        this.$btns.on('click', function () {\r\n            var index = $(this).index();\r\n            console.log(index);\r\n            _this.play(index - _this.pageindex);\r\n        });\r\n\r\n        this.$prebtn.on('click', function () {\r\n            _this.play(-1)\r\n        });\r\n\r\n        this.$nextbtn.on('click', function () {\r\n            _this.play(1)\r\n        });\r\n    };\r\n    Carousel2 = (function () {\r\n        return {\r\n            init: function ($ct, width, height) {\r\n                $ct.each(function (idx, ct) {\r\n                    new Carousel($(ct), width, height);\r\n                })\r\n            }\r\n        }\r\n    })();\r\n    return Carousel2;\r\n})()"]}